/* Holographic Certificate Effect */
/* Color scheme: Gold/Bronze */
:root {
  --holo-gold: #d4af37;
  --holo-bronze: #cd7f32;
  --holo-yellow: #ffd700;
}

/* 3D Perspective wrapper */
.certificate-holo-wrapper {
  perspective: 750px;
  isolation: isolate;
  transform: translate3d(0.1px, 0.1px, 0.1px);
  max-width: 100%;
}

/* Main holographic card */
.certificate-holo-card {
  position: relative;
  overflow: hidden;
  touch-action: none;
  isolation: isolate;
  transform-origin: center;
  transition: transform 0.5s ease, box-shadow 0.2s ease;
  will-change: transform, filter;
  
  /* Beveled/chamfered corners using clip-path */
  clip-path: polygon(
    var(--bevel-size, 32px) 0,
    calc(100% - var(--bevel-size, 32px)) 0,
    100% var(--bevel-size, 32px),
    100% calc(100% - var(--bevel-size, 32px)),
    calc(100% - var(--bevel-size, 32px)) 100%,
    var(--bevel-size, 32px) 100%,
    0 calc(100% - var(--bevel-size, 32px)),
    0 var(--bevel-size, 32px)
  );
  
  /* Gold/bronze glow shadow */
  box-shadow: 
    -5px -5px 5px -5px var(--holo-gold), 
    5px 5px 5px -5px var(--holo-bronze), 
    0 0 5px 0px rgba(255, 255, 255, 0),
    0 25px 35px -20px rgba(0, 0, 0, 0.5);
}

/* Enhanced glow on hover */
.certificate-holo-card:hover {
  /* Box-shadow removed for cleaner hover effect */
}

/* Holographic gradient overlay (::before) */
.certificate-holo-card:before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  background-repeat: no-repeat;
  background-position: var(--grad-x, 50%) var(--grad-y, 50%);
  background-size: 300% 300%;
  background-image: linear-gradient(
    115deg,
    transparent 0%,
    var(--holo-gold) 25%,
    transparent 47%,
    transparent 53%,
    var(--holo-bronze) 75%,
    transparent 100%
  );
  opacity: 0.5;
  mix-blend-mode: color-dodge;
  filter: brightness(0.5) contrast(1);
  z-index: 1;
  transition: all 0.33s ease;
  pointer-events: none;
}

/* Sparkle/glitter overlay (::after) */
.certificate-holo-card:after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  background-repeat: no-repeat;
  background-position: var(--spark-x, 50%) var(--spark-y, 50%);
  background-size: 160%;
  background-image: 
    /* Animated sparkle GIF */
    url(/sparkles.gif),
    /* Gold/bronze gradient overlay */
    linear-gradient(
      125deg, 
      rgba(212, 175, 55, 0.3) 15%, 
      rgba(205, 127, 50, 0.25) 30%, 
      rgba(255, 215, 0, 0.2) 40%, 
      rgba(184, 134, 11, 0.15) 60%, 
      rgba(205, 127, 50, 0.25) 70%, 
      rgba(212, 175, 55, 0.3) 85%
    );
  background-blend-mode: overlay;
  opacity: 0.75;
  mix-blend-mode: color-dodge;
  filter: brightness(1) contrast(1);
  z-index: 2;
  transition: all 0.33s ease;
  pointer-events: none;
}

/* Enhanced overlay on hover/active */
.certificate-holo-card:hover:after {
  filter: brightness(1) contrast(1);
  opacity: 1;
}

/* Enhanced gradient on hover/active */
.certificate-holo-card:hover:before {
  background-image: linear-gradient(
    110deg,
    transparent 25%,
    var(--holo-gold) 48%,
    var(--holo-bronze) 52%,
    transparent 75%
  );
  background-size: 250% 250%;
  opacity: 0.88;
  filter: brightness(0.66) contrast(1.33);
}

/* Disable transitions when actively interacting */
.certificate-holo-card:hover:before,
.certificate-holo-card:hover:after {
  transition: none;
}

/* Auto-play animations */
.certificate-holo-card.animated {
  animation: holoCard 8s ease 0s 1;
}

.certificate-holo-card.animated:before {
  animation: holoGradient 8s ease 0s 1;
}

.certificate-holo-card.animated:after {
  animation: holoSparkle 8s ease 0s 1;
}

/* Keyframe Animations */

/* 3D card rotation animation */
@keyframes holoCard {
  0%, 100% {
    transform: rotateZ(0deg) rotateX(0deg) rotateY(0deg);
  }
  5%, 8% {
    transform: rotateZ(0deg) rotateX(6deg) rotateY(-20deg);
  }
  13%, 16% {
    transform: rotateZ(0deg) rotateX(-9deg) rotateY(32deg);
  }
  35%, 38% {
    transform: rotateZ(3deg) rotateX(12deg) rotateY(20deg);
  }
  55% {
    transform: rotateZ(-3deg) rotateX(-12deg) rotateY(-27deg);
  }
}

/* Gradient position animation */
@keyframes holoGradient {
  0%, 100% {
    opacity: 0.5;
    background-position: 50% 50%;
    filter: brightness(0.5) contrast(1);
  }
  5%, 9% {
    background-position: 100% 100%;
    opacity: 1;
    filter: brightness(0.75) contrast(1.25);
  }
  13%, 17% {
    background-position: 0% 0%;
    opacity: 0.88;
  }
  35%, 39% {
    background-position: 100% 100%;
    opacity: 1;
    filter: brightness(0.5) contrast(1);
  }
  55% {
    background-position: 0% 0%;
    opacity: 1;
    filter: brightness(0.75) contrast(1.25);
  }
}

/* Sparkle opacity/position animation */
@keyframes holoSparkle {
  0%, 100% {
    opacity: 0.75;
    background-position: 50% 50%;
    filter: brightness(1.2) contrast(1.25);
  }
  5%, 8% {
    opacity: 1;
    background-position: 40% 40%;
    filter: brightness(0.8) contrast(1.2);
  }
  13%, 16% {
    opacity: 0.5;
    background-position: 50% 50%;
    filter: brightness(1.2) contrast(0.8);
  }
  35%, 38% {
    opacity: 1;
    background-position: 60% 60%;
    filter: brightness(1) contrast(1);
  }
  55% {
    opacity: 0.33;
    background-position: 45% 45%;
    filter: brightness(1.2) contrast(1.25);
  }
}

/* Canvas styling */
.golden-ticket-canvas {
  max-width: 100%;
  height: auto;
  display: block;
  position: relative;
  z-index: 0;
  
  /* Match beveled corners of certificate image */
  clip-path: polygon(
    var(--bevel-size, 32px) 0,
    calc(100% - var(--bevel-size, 32px)) 0,
    100% var(--bevel-size, 32px),
    100% calc(100% - var(--bevel-size, 32px)),
    calc(100% - var(--bevel-size, 32px)) 100%,
    var(--bevel-size, 32px) 100%,
    0 calc(100% - var(--bevel-size, 32px)),
    0 var(--bevel-size, 32px)
  );
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .certificate-holo-card {
    /* Reduce 3D intensity on mobile */
    box-shadow: 
      -3px -3px 3px -3px var(--holo-gold), 
      3px 3px 3px -3px var(--holo-bronze), 
      0 15px 25px -15px rgba(0, 0, 0, 0.5);
    
    /* Mobile-specific bevel size */
    clip-path: polygon(
      var(--mobile-bevel-size, 22px) 0,
      calc(100% - var(--mobile-bevel-size, 22px)) 0,
      100% var(--mobile-bevel-size, 22px),
      100% calc(100% - var(--mobile-bevel-size, 22px)),
      calc(100% - var(--mobile-bevel-size, 22px)) 100%,
      var(--mobile-bevel-size, 22px) 100%,
      0 calc(100% - var(--mobile-bevel-size, 22px)),
      0 var(--mobile-bevel-size, 22px)
    );
  }
  
  .golden-ticket-canvas {
    /* Mobile-specific bevel size for canvas */
    clip-path: polygon(
      var(--mobile-bevel-size, 22px) 0,
      calc(100% - var(--mobile-bevel-size, 22px)) 0,
      100% var(--mobile-bevel-size, 22px),
      100% calc(100% - var(--mobile-bevel-size, 22px)),
      calc(100% - var(--mobile-bevel-size, 22px)) 100%,
      var(--mobile-bevel-size, 22px) 100%,
      0 calc(100% - var(--mobile-bevel-size, 22px)),
      0 var(--mobile-bevel-size, 22px)
    );
  }
  
  .certificate-holo-card:before {
    background-size: 200% 200%;
  }
  
  .certificate-holo-card:after {
    background-size: 120%;
  }
}

